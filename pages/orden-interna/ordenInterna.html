<h2 class="mb-3 fs-4">Lista de Ordenes Internas</h2>
<div class="row justify-content-end mb-2">
  <div class="col-auto">
    <a href="orden-interna/crear" class="btn btn-agregar">
      Crear Orden Interna
    </a>
  </div>
</div>
<div class="row mb-3 d-flex justify-content-between">
  <div class="col-12 col-md-6 mb-3 mb-md-0">
    <div class="d-flex flex-column flex-md-row align-items-end">
      <div class="me-3 d-flex align-items-center">
        <label class="form-check-label text-center" for="include-period" style="width: 100px;">Incluir año/mes</label>
        <input class="form-check-input" type="checkbox" id="include-period" checked>
      </div>
      <div class="me-3 w-50">
        <label for="year-selector" class="form-label mb-1">Años</label>
        <select id="year-selector" class="form-select w-100" multiple></select>
      </div>
      <div class="me-3 w-50">
        <label for="month-selector" class="form-label mb-1">Meses</label>
        <select id="month-selector" class="form-select w-100" multiple>
          <option value="1">Enero</option>
          <option value="2">Febrero</option>
          <option value="3">Marzo</option>
          <option value="4">Abril</option>
          <option value="5">Mayo</option>
          <option value="6">Junio</option>
          <option value="7">Julio</option>
          <option value="8">Agosto</option>
          <option value="9">Septiembre</option>
          <option value="10">Octubre</option>
          <option value="11">Noviembre</option>
          <option value="12">Diciembre</option>
        </select>
      </div>
      <div class="me-3 w-50">
        <label for="filter-input" class="form-label mb-1 me-md-2">Nro de OT</label>
        <input type="text" id="filter-input" class="form-control w-100" placeholder="">
      </div>

      <button class="btn btn-primary w-25 mt-2 mt-md-0 ms-md-2" id="filter-button">Filtrar</button>
      <button class="btn btn-primary w-25 mt-2 mt-md-0 ms-md-2" id="limpiar-btn">Limpiar</button>
    </div>
  </div>

  <!-- Paginación a la derecha -->
  <div class="col-12 col-md-4 d-flex flex-column align-items-center justify-content-end">
    <div class="pagination-container" id="pagination-container"></div>
  </div>
</div>

<table id="data-container" class="table table-striped nowrap" style="width:100%">
  <thead>
    <th style="border-bottom: none;">Nro. OT</th>
    <th style="border-bottom: none;">Cliente</th>
    <th style="border-bottom: none;">Informacion de equipo</th>
    <th style="border-bottom: none;">Componente</th>
    <th style="border-bottom: none;">Fecha de OI</th>
    <th style="border-bottom: none;">Fecha aprobación</th>
    <th style="border-bottom: none;">Área</th>
    <th style="border-bottom: none;">Materiales</th>
    <th style="border-bottom: none;">Estado OI</th>
    <th style="border-bottom: none;">Acciones</th>
    <th style="border-bottom: none;">Fec. Creación</th>
    <th style="border-bottom: none;">Usu. Creador</th>
    <th style="border-bottom: none;">Fec. Actualización</th>
    <th style="border-bottom: none;">Usu. Actualizador</th>
  </thead>
  <thead >
    <th><input type="text" id="filtro-nro-ot" class="form-control w-100" autocomplete="off"></th>
    <th><input type="text" id="filtro-cliente" class="form-control w-100" autocomplete="off"></th>
    <th><input type="text" id="filtro-informacion-equipo" class="form-control w-100" autocomplete="off"></th>
    <th><input type="text" id="filtro-componente" class="form-control w-100" autocomplete="off"></th>
    <th style="max-width: 130px !important;"><select name="filtro-estado" id="filtro-estado" class="form-select w-100" multiple>
      <option value="REABIERTO">REABIERTO</option>
      <option value="DESPACHADO">DESPACHADO</option>
      <option value="ENVIADO">ENVIADO</option>
      <option value="EVALUADO">EVALUADO</option>
      <option value="INGRESO">INGRESO</option>
      <option value="DEVOLUCION">DEVOLUCION</option>
      <option value="ANULADO">ANULADO</option>
      <option value="EN ESPERA">EN ESPERA</option>
      <option value="TERMINADO">TERMINADO</option>
      <option value="PROCESO">PROCESO</option>
    </select></th>
    <th></th>
  </thead>
  <tbody id="data-container-body">
  </tbody>
</table>

<!-- Dialog para cambio de estado -->
<div class="modal fade" id="changeEstadoOI" tabindex="-1" aria-labelledby="changeEstadoOILabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="changeEstadoOILabel">Cambiar Estado</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body orange-form">
        <form id="changeEstadoOIForm">
          <input type="text" id="idOI" hidden>
          <p>Estado actual: <span id="estadoActualOI" class="badge bg-primary"></span></p>
          <label for="estadoOISelect" class="form-label">Estado de OI</label>
          <select name="estadoOISelect" id="estadoOISelect" class="form-control">
          </select>
        </form>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary" id="changeEstadoOIBtn">Guardar</button>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- PREVIEW -->
<div class="modal fade" id="previewPDFModal" tabindex="-1" aria-labelledby="previewPDFModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="previewPDFModalLabel">Previsualizar Orden Interna</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <div style="height: 80vh;">
                  <iframe id="pdf-frame" width="100%" height="100%" style="border: none;"></iframe>
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
          </div>
      </div>
  </div>
</div>